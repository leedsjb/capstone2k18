# Filename: secret.yaml
# Created: May 10, 2018
# Modified: Friday may 11, 2018
# Author: J. Benjamin Leeds
# License: None

# define TLS secret:
# creates a Kubernetes Secret Object based on the cert and key encoded in base64
# security note: be sure to keep cert and key out of source control, base64 is not encryption

# Kubernetes Secret Documentation: https://kubernetes.io/docs/concepts/configuration/secret/

# Current Issues: 
#   Unable to use TLS Secret with crewjam-saml Go web server

# Current workaround:
#   Create generic secret instead

# Create generic Kubernetes secret object:
kubectl create secret generic crewjam-test-elevate-airliftnw-org-letsencrypt-generic --from-file test.elevate.airliftnw.org-privkey1.pem --from-file test.elevate.airliftnw.org-fullchain1.pem --save-config

## did not use below to create secret, created with imperative command instead: *******

# Declarative Object Specification
apiVersion: v1
kind: Secret
metadata:
  name: crewjam-test-elevate-airliftnw-org-letsencrypt
  namespace: default
type: Opaque
data:
  test.elevate.airliftnw.org-fullchain1.pem: base64 encoded cert
  test.elevate.airliftnw.org-privkey1.pem: base64 encoded key