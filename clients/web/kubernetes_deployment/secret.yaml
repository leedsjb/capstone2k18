%YAML 1.2

# Filename: basic_ingress.yaml
# Created: April 10, 2018
# Modified: 
# Author: J. Benjamin Leeds
# License: None

# define TLS secret:
# creates a Kubernetes Secret Object based on the cert and key encoded in base64
# security note: be sure to keep cert and key out of source control, base64 is not encryption

# create secret and push to Kubernetes cluster
# kubectl apply -f secret.yaml

# Current Issues: 
#   LetsEncrypt/CertBot provides certificates and private keys in .pem format
#   Issue creating Secret Object due to base64 or file incompatibility. 
# Current workaround:
#   kubectl create secret tls test-ingress-secret --key privkey.pem --cert fullchain.pem 

apiVersion: v1
data:
  fullchain.pem: base64 encoded cert
  privkey.pem: base64 encoded key
kind: Secret
metadata:
  name: test-ingress-secret
  namespace: default
type: Opaque